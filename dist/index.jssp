metadata={systemName:"WorkflowRESTTest",displayName:"Workflow REST API Test",description:"Broker to call workflow REST API on local box",configuration:{ServiceURL:{displayName:"Workflow REST API URL",type:"string",value:"https://talley1.onk2stable.com/Api/Workflow/V1/workflows/"}}},ondescribe=async function({configuration:e}){postSchema({objects:{workflows:{displayName:"Workflows",description:"Manage Workflows",properties:{id:{displayName:"ID",type:"number"},folio:{displayName:"Folio",type:"string"}},methods:{start:{displayName:"Start a workflow",type:"create",inputs:["folio"],requiredInputs:["folio"],outputs:["id"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:o,properties:a,configuration:s}){switch(e){case"workflows":await async function(e,t,o,a){switch(e){case"start":await function(e,t,o){return new Promise((e,a)=>{var s=o.ServiceURL+"7",r=JSON.stringify({folio:t.folio}),i=new XMLHttpRequest;i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(201!==i.status&&200!==i.status)throw new Error("Failed with status "+i.responseText);var t=JSON.parse(i.responseText);postResult({id:t.id}),e()}catch(e){a(e)}},i.open("POST",s),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Authorization","Basic YWRtaW5AbTM2NXgyNTIzOTEub25taWNyb3NvZnQuY29tOjEzdTlHMDZNaFk="),i.send(r)})}(0,o,a);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,a,s);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.jssp.map
